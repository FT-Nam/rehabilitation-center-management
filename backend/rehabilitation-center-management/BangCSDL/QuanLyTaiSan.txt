-- CƠ SỞ DỮ LIỆU QUẢN LÝ TÀI SẢN

-- 1. Danh mục tài sản
CREATE TABLE DanhMucTaiSan (
    MaDanhMuc VARCHAR2(50) PRIMARY KEY,
    TenDanhMuc VARCHAR2(255),
    TrangThai VARCHAR2(50),
    DonViTinh VARCHAR2(50)
);

-- 2. Thông tin tài sản
CREATE TABLE TaiSan (
    MaTaiSan VARCHAR2(50) PRIMARY KEY,
    TenTaiSan VARCHAR2(255),
    NhaCungCap VARCHAR2(255),
    TrangThai VARCHAR2(50),
    DonViTinh VARCHAR2(50),
    SoLuong VARCHAR2(50)
);

-- 3. Quản lý kho tài sản
CREATE TABLE QuanLyKhoTaiSan (
    MaTaiSan VARCHAR2(50) PRIMARY KEY,
    SLTonKho VARCHAR2(50),
    SLDangSuDung VARCHAR2(50),
    SLHongCanSua VARCHAR2(50),
    FOREIGN KEY (MaTaiSan) REFERENCES TaiSan(MaTaiSan)
);

-- 4. Kiểm kê tài sản
CREATE TABLE KiemKeTaiSan (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    MaSanPham VARCHAR2(50),
    TenSanPham VARCHAR2(255),
    ThoiGianKiemKe DATE,
    SLTonThucTe VARCHAR2(50),
    SLChenhLech VARCHAR2(50),
    LyDo VARCHAR2(255),
    GiaTriChenhLech VARCHAR2(50),
    NguoiThucHien VARCHAR2(255),
    FOREIGN KEY (MaSanPham) REFERENCES TaiSan(MaTaiSan)
);

-- 5. Serial tài sản
CREATE TABLE SerialTaiSan (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    MaSanPham VARCHAR2(50),
    MaSerial VARCHAR2(100),
    TinhTrang VARCHAR2(100),
    KhauHaoTheoNam VARCHAR2(50),
    NgayNhapKho DATE,
    FOREIGN KEY (MaSanPham) REFERENCES TaiSan(MaTaiSan)
);

-- 6. Bàn giao tài sản
CREATE TABLE BanGiaoTaiSan (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    MaTaiSan VARCHAR2(50),
    NguoiBanGiao VARCHAR2(255),
    NguoiNhanBanGiao VARCHAR2(255),
    NgayBanGiao DATE,
    TinhTrangBanGiao VARCHAR2(100),
    FOREIGN KEY (MaTaiSan) REFERENCES TaiSan(MaTaiSan)
);

-- 7. Kiểm kê serial
CREATE TABLE KiemKeSerial (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    ThoiGianKiemKe DATE,
    NguoiKiemKe VARCHAR2(255),
    TinhTrang VARCHAR2(100),
    MoTa VARCHAR2(255)
);

-- 8. Sửa chữa tài sản
CREATE TABLE SuaChuaTaiSan (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    TinhTrangBanDau VARCHAR2(255),
    TinhTrangSuaChua VARCHAR2(255),
    NgaySuaChua DATE,
    NguoiChiuTrachNhiem VARCHAR2(255)
);
