-- CƠ SỞ DỮ LIỆU QUẢN LÝ CHƯƠNG TRÌNH GIÁO DỤC, ĐÀO TẠO, LAO ĐỘNG

-- 1. Khóa đào tạo nghề
CREATE TABLE KhoaDaoTaoNghe (
    MaKhoa VARCHAR2(50) PRIMARY KEY,
    TenKhoa VARCHAR2(255),
    LoaiNghe VARCHAR2(100),
    MoTa VARCHAR2(255)
);

-- Lớp đào tạo nghề
CREATE TABLE LopDaoTaoNghe (
    MaLop VARCHAR2(50) PRIMARY KEY,
    TenLop VARCHAR2(255),
    TenKhoa VARCHAR2(255),
    GiaoVien VARCHAR2(255),
    ThoiGianBatDau DATE,
    ThoiGianKetThuc DATE,
    TongSoHocVien VARCHAR2(50)
);

CREATE TABLE DanhGiaLopDaoTaoNghe (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    MaHocVien VARCHAR2(50),
    TenHocVien VARCHAR2(255),
    DiemTrungBinh VARCHAR2(10),
    XepLoai VARCHAR2(50),
    MaLop VARCHAR2(50),
    FOREIGN KEY (MaLop) REFERENCES LopDaoTaoNghe(MaLop)
);

-- Khóa học giáo dục/tư vấn
CREATE TABLE KhoaHoc (
    MaKhoaHoc VARCHAR2(50) PRIMARY KEY,
    TenKhoaHoc VARCHAR2(255),
    PhanLoai VARCHAR2(50),
    MoTa VARCHAR2(255)
);

-- Lớp học giáo dục/tư vấn
CREATE TABLE LopHoc (
    MaLopHoc VARCHAR2(50) PRIMARY KEY,
    TenLopHoc VARCHAR2(255),
    TenKhoaHoc VARCHAR2(255),
    GiaoVien VARCHAR2(255),
    ThoiGianBatDau DATE,
    ThoiGianKetThuc DATE,
    TongSoHocVien VARCHAR2(50)
);

CREATE TABLE DanhGiaLopHoc (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    MaHocVien VARCHAR2(50),
    TenHocVien VARCHAR2(255),
    DiemTrungBinh VARCHAR2(10),
    XepLoai VARCHAR2(50),
    MaLopHoc VARCHAR2(50),
    FOREIGN KEY (MaLopHoc) REFERENCES LopHoc(MaLopHoc)
);

-- Buổi tư vấn
CREATE TABLE TuVan (
    MaBuoiTuVan VARCHAR2(50) PRIMARY KEY,
    TenBuoiTuVan VARCHAR2(255),
    TenNguoiTuVan VARCHAR2(255),
    LoaiTuVan VARCHAR2(100),
    SoLuongHocVien VARCHAR2(50),
    DanhSachHocVienThamGia VARCHAR2(500),
    NguoiTuVan VARCHAR2(255),
    KetQua VARCHAR2(255),
    ThoiGianBatDau DATE,
    ThoiGianKetThuc DATE
);

-- Đợt lao động trị liệu
CREATE TABLE DotLaoDong (
    MaDot VARCHAR2(50) PRIMARY KEY,
    TenDot VARCHAR2(255),
    DiaDiem VARCHAR2(255),
    LoaiNgheLaoDong VARCHAR2(100),
    ThoiGianBatDau DATE,
    ThoiGianKetThuc DATE,
    SoLuongNguoiCai VARCHAR2(50),
    NguoiPhuTrach VARCHAR2(255)
);

-- Tổ/Đội/Nhóm lao động
CREATE TABLE ToLaoDong (
    MaTo VARCHAR2(50) PRIMARY KEY,
    TenTo VARCHAR2(255),
    NguoiPhuTrach VARCHAR2(255),
    SoLuongHocVien VARCHAR2(50)
);

CREATE TABLE DoiLaoDong (
    MaDoi VARCHAR2(50) PRIMARY KEY,
    TenDoi VARCHAR2(255),
    NguoiPhuTrach VARCHAR2(255),
    ToLaoDong VARCHAR2(50),
    SoLuongHocVien VARCHAR2(50),
    FOREIGN KEY (ToLaoDong) REFERENCES ToLaoDong(MaTo)
);

CREATE TABLE NhomLaoDong (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    MaTo VARCHAR2(50),
    TenTo VARCHAR2(255),
    NguoiPhuTrach VARCHAR2(255),
    TenDoi VARCHAR2(255),
    SoLuongHocVien VARCHAR2(50),
    FOREIGN KEY (MaTo) REFERENCES ToLaoDong(MaTo)
);
